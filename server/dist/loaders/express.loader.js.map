{"version":3,"sources":["../../src/loaders/express.loader.js"],"names":["app","api","console","log","enable","use","origin","bodyParser","json","extended","get","_","res","send"],"mappings":";;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;2FACe,iBAAOA,GAAP,EAAYC,GAAZ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAEND,GAFM;AAAA;AAAA;AAAA;;AAGPE,YAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AAHO,6CAIA,IAJA;;AAAA;AAOXH,YAAAA,GAAG,CAACI,MAAJ,CAAW,aAAX,EAPW,CASX;;AACAJ,YAAAA,GAAG,CAACK,GAAJ,CAAQ,yBAAR;AACAL,YAAAA,GAAG,CAACK,GAAJ,CAAQ,sBAAK;AAAEC,cAAAA,MAAM,EAAE;AAAV,aAAL,CAAR;AACAN,YAAAA,GAAG,CAACK,GAAJ,CAAQ,wBAAO,KAAP,CAAR;AACAL,YAAAA,GAAG,CAACK,GAAJ,CAAQE,uBAAWC,IAAX,EAAR;AACAR,YAAAA,GAAG,CAACK,GAAJ,CAAQ,yBAAW;AAAEI,cAAAA,QAAQ,EAAE;AAAZ,aAAX,CAAR,EAdW,CAgBX;;AACAT,YAAAA,GAAG,CAACU,GAAJ,CAAQ,GAAR,EAAa,UAACC,CAAD,EAAIC,GAAJ;AAAA,qBAAYA,GAAG,CAACC,IAAJ,CAAS,SAAT,CAAZ;AAAA,aAAb;;AAEA,gBAAIZ,GAAJ,EAAS;AACLD,cAAAA,GAAG,CAACK,GAAJ,CAAQJ,GAAR;AACH;;AArBU,6CAuBJD,GAvBI;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["import { urlencoded } from 'express'\r\nimport bodyParser from 'body-parser'\r\nimport cors from 'cors'\r\nimport morgan from 'morgan'\r\nimport helmet from 'helmet'\r\n\r\n/**\r\n * Configure a express instance\r\n * @param {Express} app - Express instance\r\n * @param {Express.Route} api - Express App Routes\r\n * @return {Express} app\r\n */\r\nexport default async (app, api) => {\r\n    // If not app, calcel rest execution\r\n    if (!app) {\r\n        console.log('not app')\r\n        return null\r\n    }\r\n\r\n    app.enable('trust proxy')\r\n\r\n    // config middlewares\r\n    app.use(helmet())\r\n    app.use(cors({ origin: '*' }))\r\n    app.use(morgan('dev'))\r\n    app.use(bodyParser.json())\r\n    app.use(urlencoded({ extended: false }))\r\n\r\n    // config routes\r\n    app.get('/', (_, res) => res.send('running'))\r\n\r\n    if (api) {\r\n        app.use(api)\r\n    }\r\n\r\n    return app\r\n}\r\n"],"file":"express.loader.js"}