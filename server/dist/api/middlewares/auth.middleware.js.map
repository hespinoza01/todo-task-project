{"version":3,"sources":["../../../src/api/middlewares/auth.middleware.js"],"names":["AuthMiddleware","req","res","next","token","header","user","console","log","status","json","error","message"],"mappings":";;;;;;;;;;;;;;;;AAAA;;AAEA;AACA;AACA;SAC8BA,c;;;;;kGAAf,iBAA8BC,GAA9B,EAAmCC,GAAnC,EAAwCC,IAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEP;AACMC,YAAAA,KAHC,GAGOH,GAAG,CAACI,MAAJ,CAAW,eAAX,KAA+B,IAHtC,EAKP;;AALO;AAAA,mBAMU,wBAAYD,KAAZ,CANV;;AAAA;AAMPH,YAAAA,GAAG,CAACK,IANG;AAQPH,YAAAA,IAAI;AARG;AAAA;;AAAA;AAAA;AAAA;AAUPI,YAAAA,OAAO,CAACC,GAAR;AAVO,6CAYAN,GAAG,CAACO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACxBC,cAAAA,KAAK,EAAE,IADiB;AAExBC,cAAAA,OAAO,EAAE;AAFe,aAArB,CAZA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["import { DecodeToken } from '@/utils'\r\n\r\n/**\r\n * Check user credentials before request\r\n */\r\nexport default async function AuthMiddleware(req, res, next) {\r\n    try {\r\n        // extract token header\r\n        const token = req.header('Authorization') || null\r\n\r\n        // assign user data to req\r\n        req.user = await DecodeToken(token)\r\n\r\n        next()\r\n    } catch (error) {\r\n        console.log(error)\r\n\r\n        return res.status(401).json({\r\n            error: true,\r\n            message: 'Tu sesi√≥n ha caducado',\r\n        })\r\n    }\r\n}\r\n"],"file":"auth.middleware.js"}