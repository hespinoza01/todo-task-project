{"version":3,"sources":["../../src/validators/task.validation.js"],"names":["TaskValidation","body","resolve","reject","schema","Joi","object","id","number","positive","messages","title","string","trim","min","max","exist","description","allow","empty","status","validate","error","value"],"mappings":";;;;;;;;;;;;;;AAAA;;AACA;;AAEe,SAASA,cAAT,CAAwBC,IAAxB,EAA8B;AACzC,SAAO,wBAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpC,QAAMC,MAAM,GAAGC,gBAAIC,MAAJ,CAAW;AACtBC,MAAAA,EAAE,EAAEF,gBAAIG,MAAJ,GAAaC,QAAb,GAAwBC,QAAxB,CAAiC;AACjC,uBAAe,+BADkB;AAEjC,2BACI;AAH6B,OAAjC,CADkB;AAOtBC,MAAAA,KAAK,EAAEN,gBAAIO,MAAJ,GAAaC,IAAb,GAAoBC,GAApB,CAAwB,CAAxB,EAA2BC,GAA3B,CAA+B,GAA/B,EAAoCC,KAApC,GAA4CN,QAA5C,CAAqD;AACxD,sBACI,2DAFoD;AAGxD,sBACI,0DAJoD;AAKxD,wBAAgB;AALwC,OAArD,CAPe;AAetBO,MAAAA,WAAW,EAAEZ,gBAAIO,MAAJ,GACRC,IADQ,GAERK,KAFQ,CAEF,EAFE,EAEE,IAFF,EAGRC,KAHQ,CAGF,CAAC,EAAD,EAAK,IAAL,CAHE,aAIA,iBAJA,EAKRJ,GALQ,CAKJ,GALI,EAMRL,QANQ,CAMC;AACN,sBACI;AAFE,OAND,CAfS;AA0BtBU,MAAAA,MAAM,EAAEf,gBAAIG,MAAJ,GACHU,KADG,CACG,EADH,EACO,IADP,EAEHC,KAFG,CAEG,CAAC,EAAD,EAAK,IAAL,CAFH,aAGK,CAHL,EAIHV,QAJG,GAKHC,QALG,CAKM;AACN,uBAAe,gCADT;AAEN,2BAAmB;AAFb,OALN;AA1Bc,KAAX,CAAf,CADoC,CAsCpC;;;AAtCoC,2BAuCXN,MAAM,CAACiB,QAAP,CAAgBpB,IAAhB,CAvCW;AAAA,QAuC5BqB,KAvC4B,oBAuC5BA,KAvC4B;AAAA,QAuCrBC,KAvCqB,oBAuCrBA,KAvCqB;;AAyCpC,QAAID,KAAJ,EAAW;AACPnB,MAAAA,MAAM,CAAC,mCAAuBmB,KAAvB,CAAD,CAAN;AACH;;AAEDpB,IAAAA,OAAO,CAACqB,KAAD,CAAP;AACH,GA9CM,CAAP;AA+CH","sourcesContent":["import Joi from '@hapi/joi'\r\nimport { ValidationErrorMessage } from '@/utils'\r\n\r\nexport default function TaskValidation(body) {\r\n    return new Promise((resolve, reject) => {\r\n        const schema = Joi.object({\r\n            id: Joi.number().positive().messages({\r\n                'number.base': 'Ingrese un ID de tarea válido',\r\n                'number.positive':\r\n                    'El ID de tarea no puede ser un número negativo',\r\n            }),\r\n\r\n            title: Joi.string().trim().min(4).max(255).exist().messages({\r\n                'string.min':\r\n                    'El título de la tarea debe contener al menos 4 caracteres',\r\n                'string.max':\r\n                    'El título de la tarea supera el límite de 255 caracteres',\r\n                'any.required': 'El título de la tarea es requerido',\r\n            }),\r\n\r\n            description: Joi.string()\r\n                .trim()\r\n                .allow('', null)\r\n                .empty(['', null])\r\n                .default('Sin descripción')\r\n                .max(255)\r\n                .messages({\r\n                    'string.max':\r\n                        'La descripción de la tarea supera el límite de 255 caracteres',\r\n                }),\r\n\r\n            status: Joi.number()\r\n                .allow('', null)\r\n                .empty(['', null])\r\n                .default(1)\r\n                .positive()\r\n                .messages({\r\n                    'number.base': 'Ingrese estado de tarea válido',\r\n                    'number.positive': 'Ingrese estado de tarea válido',\r\n                }),\r\n        })\r\n\r\n        // check schema validation\r\n        const { error, value } = schema.validate(body)\r\n\r\n        if (error) {\r\n            reject(ValidationErrorMessage(error))\r\n        }\r\n\r\n        resolve(value)\r\n    })\r\n}\r\n"],"file":"task.validation.js"}